title: 424. Longest Repeating Character Replacement
date: 2022-10-10 23:24
tags: #leetcode #new
difficulty: #medium 
similar: 

---
## Approach:
#sliding-window 
Ref: https://www.youtube.com/watch?v=gqXU1UyA8pk

1. Increase the window if the substring is valid
   - The max frequency of any character in the current window is identified
   - All other characters hence need to be converted to this maxfreq character
   - Hence, if (length-of-current-window) - max_freq <=k, it means we have enough ks
     to replace other chars to max_freq character, otherwise:
2. slide the window with the same length. No need to shrink the window

```python
class Solution:
    def characterReplacement(self, s: str, k: int) -> int:
        char2freq = dict()
        l=0
        maxlen = 0
        maxfreq = 0
        
        for r in range(len(s)):
            char2freq[s[r]] = char2freq.get(s[r], 0) + 1
            
            maxfreq = max(maxfreq, char2freq[s[r]])
            
            # maintain the substring length and slide the window if the substring is invalid
            if (r-l+1) - maxfreq <=k:
                maxlen = max(maxlen, r-l+1)
            else:
                char2freq[s[l]]-=1
                l+=1
            
            r+=1
        
        return maxlen
```

**Link**: https://leetcode.com/submissions/detail/819830912/
**Time**: O(n)
**Space**: O(1)